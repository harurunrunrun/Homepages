<script>
MathJax={chtml:{matchFontHeight: false},tex:{inlineMath: [['$', '$']]}};</script>
<script id="MathJax-script" async  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<h3>No.1705  Mode of long array</h3>
<div class="block">
<h4 class="shadow">問題文</h4>
<p>長さ $N$ の配列 $A$ があり、配列 $A$ には $1$ 以上 $M$ 以下の整数 $i$ が $a_i$ 個 あります。</p>
<p>クエリが $Q$ 個与えられるので、順に処理してください。 $i$ 番目のクエリでは $T_i,X_i,Y_i$ が与えれます。</p>
<ul>
<li><p>$T_i=1$ のとき</p></li>
<p>配列 $A$ に整数 $X_i$ を $Y_i$ 個追加する。</p>
<li><p>$T_i=2$ のとき</p></li>
<p>配列 $A$ から整数 $X_i$ を $Y_i$ 個取り除く。ただし、このとき配列 $A$ に整数 $X_i$ が $Y_i$ 個以上あることが保証される。</p>
<li><p>$T_i=3$ のとき</p></li>
<p>配列 $A$ の最頻値を出力する。ただし、最頻値が複数ある場合はその中で最大の値を出力する。</p>
</ul>
</div>
<div class="block">
<h4 class="shadow">入力</h4>
<p>$N\ M$</p>
<p>$a_1 \ldots a_M$</p>
<p>$Q$</p>
<p>$T_1\ X_1\ Y_1$</p>
<p>$\vdots$</p>
<p>$T_Q\ X_Q\ Y_Q$</p>
<p></p>
<ul>
<li><p>$1$ 行目に $N$ と $M$ が空白区切りで与えられる</p></li>
<li><p>$2$ 行目に $a_i$ が空白区切りで与えられる</p></li>
<li><p>$3$ 行目に $Q$ が与えれられる</p></li>
<li><p>$4\sim Q+3$ 行目に $T_i,X_i,Y_i$ が空白区切りで与えられる</p></li>
</ul>
</div>
<div class="block">
<h4 class="shadow">制約</h4>
<ul>
<li><p>$1≤N≤5\times 10^{17}$</p></li>
<li><p>$1≤M≤10^5$</p></li>
<li><p>$0≤a_i≤N$</p></li>
<li><p>$\sum_{i=1}^{M}a_i=N$</p></li>
<li><p>$1≤Q≤10^5$</p></li>
<li><p>$1≤T_i≤3$</p></li>
<li><p>$T_i=1$ のとき</p></li>
<ul>
<li><p>$1≤X_i≤M$</p></li>
<li><p>$1≤Y_i≤10^{12}$</p></li>
</ul>
<li><p>$T_i=2$ のとき</p></li>
<ul>
<li><p>$1≤X_i≤M$</p></li>
<li><p>$1≤Y_i≤10^{12}$</p></li>
<li><p>取り除くとき、配列 $A$ に整数 $X_i$ が $Y_i$ 個以上含まれる</p></li>
</ul>
<li><p>$T_i=3$ のとき</p></li>
<ul>
<li><p>$X_i=Y_i=0$ (この $X_i,Y_i$ は問題には使用されない)</p></li>
</ul>
<li><p>$T_i=3$ のクエリが少なくとも $1$ 個含まれる</p></li>
<li><p>配列 $A$ が空になるようなテストケースは与えられない</p></li>
<li><p>入力は全て整数である</p></li>
</ul>
</div>
<div class="block">
<h4 class="shadow">出力</h4>
<p>$T_i=3$ であるような各クエリについてそれぞれ $1$ 行ずつ出力してください。 </p>
<p>最後に改行してください。</p>
</div>
<div class="block">
<h4 class="shadow">サンプル</h4>
<div class="sample" data-file="01_sample_01.txt">
<h5 class="underline">サンプル1</h5>
<div class="paragraph">
<h6>入力</h6>
<p>3 3</p>
<p>1 1 1</p>
<p>10</p>
<p>1 1 5</p>
<p>3 0 0</p>
<p>1 2 8</p>
<p>3 0 0</p>
<p>1 3 2</p>
<p>3 0 0</p>
<p>1 1 10</p>
<p>3 0 0</p>
<p>1 2 7</p>
<p>3 0 0</p>
<p></p>
<h6>出力</h6>
<p>1</p>
<p>2</p>
<p>2</p>
<p>1</p>
<p>2</p>
<p>最初 $A=(1,2,3)$ です。</p>
<p>$1$ 個目のクエリで $A=(1,1,1,1,1,1,2,3)$ になります。</p>
<p>$2$ 個目のクエリでは $A$ の最頻値の $1$ を出力してください。</p>
<p>$3$ 個目のクエリで $A=(1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,3)$ になりなす。</p>
<p>$4$ 個目のクエリでは $A$ の最頻値の $2$ を出力してください。</p>
<p>$5$ 個目のクエリで $A=(1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,3,3,3)$ になりなす。</p>
<p>$6$ 個目のクエリでは $A$ の最頻値の $2$ を出力してください。</p>
<p>$7$ 個目のクエリで $A=(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,3,3,3)$ になりなす。</p>
<p>$8$ 個目のクエリでは $A$ の最頻値の $1$ を出力してください。</p>
<p>$9$ 個目のクエリで $A=(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3)$ になりなす。</p>
<p>$10$ 個目のクエリでは $A$ の最頻値は $1,2$ です。大きいほうの $2$ を出力してください。</p>
</div>
</div>
<div class="sample" data-file="01_sample_02.txt">
<h5 class="underline">サンプル2</h5>
<div class="paragraph">
<h6>入力</h6>
<p>25 3</p>
<p>10 10 5</p>
<p>16</p>
<p>3 0 0</p>
<p>1 3 4</p>
<p>2 1 1</p>
<p>3 0 0</p>
<p>2 2 1</p>
<p>3 0 0</p>
<p>1 2 1</p>
<p>3 0 0</p>
<p>1 1 2</p>
<p>3 0 0</p>
<p>1 2 3</p>
<p>3 0 0</p>
<p>2 1 5</p>
<p>3 0 0</p>
<p>2 2 5</p>
<p>3 0 0</p>
<p></p>
<h6>出力</h6>
<p>2</p>
<p>2</p>
<p>3</p>
<p>2</p>
<p>1</p>
<p>2</p>
<p>2</p>
<p>3</p>
<p>最終的に $A=(1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3)$ になりなす。</p>
</div>
</div>
<div class="sample" data-file="01_sample_03.txt">
<h5 class="underline">サンプル3</h5>
<div class="paragraph">
<h6>入力</h6>
<p>1000000000000 2</p>
<p>500000000000 500000000000</p>
<p>3</p>
<p>2 2 500000000000</p>
<p>2 1 499999999999</p>
<p>3 0 0</p>
<p></p>
<h6>出力</h6>
<p>1</p>
<p>配列 $A$ が空になることはありません。</p>
</div>
</div>
</div>
<p>source: <a href="https://yukicoder.me/problems/no/1705">No.1705  Mode of long array</a></p>
<p>最終更新日: 2022/2/15  17:26:36</p>
